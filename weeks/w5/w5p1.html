<!DOCTYPE html>
<html>
  <head>
    <title>More git</title>
    <meta charset="utf-8">
    <meta name="author" content="Daniel Anderson" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/uo.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/uo-fonts.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/hygge.css" rel="stylesheet" />
    <link rel="stylesheet" href="custom1.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# More git
## And intro to dynamic APA manuscripts
### Daniel Anderson
### Week 5, Class 1

---




# Agenda 
* Questions
* Revisit some *git*/*GitHub*
* {papaja}
* Lab


--
### Learning objectives for today
* Understand how to render R Markdown documents into APA manuscripts
* Understand how to include citations in an R Markdown document


--
### Objectives
* Render an R Markdown document as an APA manuscript

---
class: inverse middle center
background-image:url(../img/chalkboard.jpg)
background-size:cover

# What questions do you have?


---
# Revisiting *git*
Talk with neighbor. What do these terms mean?

* clone
* pull
* stage
* commit
* push
* repo
* remote

---
class: inverse middle 
background-image:url(../img/wood.jpg)
background-size:cover

# [demo]
### I will
* Create a repo
* Clone into an R Project
* Create a file - stage, commit, push

### You then
* Clone the repo
* We'll have one person make a change
* Everybody .green[git pull] and see the changes
* Purposefully create a merge conflict, use gitkraken to deal with it.


---
# {papaja}

Despite having been around for  about 4 years 
[{papaja}](https://github.com/crsh/papaja) is still not on CRAN. 

More evidence that some of the best packages are not on CRAN.


--
Install with devtools


```r
devtools::install_github("crsh/papaja")
```

---
# WIP

The package is seemingly perpetually under development. What does this mean?

--
* Re-install regularly.

--
* Not everything may work perfect - don't worry though, most things do

--
* You may want to peruse the current [issues](https://github.com/crsh/papaja/issues)
  + If you run into one (and you're sure it's an issue) consider opening one
  yourself
  + Bonus - the developer is very kind, so even if you open up a silly 
  issue, he's likely to be understanding

---
# Use the template

.pull-left[
![](../img/new-rmd.png)
]

.pull-right[
![](../img/from-template.png)
]

---
# YAML
A few more options than the default

&lt;div&gt;
&lt;img src = ../img/papaja-yaml.png height = 450&gt;
&lt;/div&gt;


---
# First thing - Render!

&lt;div&gt;
&lt;img src = ../img/papaja-pdf1.png height = 450&gt;
&lt;/div&gt;

---
# Modifications
* Obvious ones
  + title
  + author &amp; author info
  + abstract
  + keywords

--
* Less obvious
  + `shorttitle` (running head)
  + `authornote` (can fully delete or modify)
  + `wordcount` (fairly useless at this point imo)
  + `bibliography` (we'll talk more about this momentarily)
  + `linenumbers`
  + floats 
  + mask (for blind peer-review)
  + `classoption`

---
# Let's play for a minute!
Modify some of the options on the previous slide. 

Specifically, try changing `classoption` from `man` to `jou`. Try other things
too.


---
class: inverse middle center
# Citations

---
## Citations
To include references in your paper, you must:
* Create an external .bib file using LaTeX formatting (we'll get to this)
* Include `bibliography: nameOfYourBibFile.bib` in your YAML front matter.
* Refer to the citations in text using `@`

---
# Creating a .bib doc

![](../img/googleScholarSearch.png)

--
&lt;div&gt;
&lt;img src = ../img/googleCite.png height = 300&gt;
&lt;/div&gt;


---
![](../img/googleBibTex.png)

--

![](../img/bibEntry.png)


---
# In text citations

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Citation Style &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Output &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; @Briggs11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Briggs and Weeks (2011) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; [see @Baldwin2014; @Caruso2000] &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; (see Baldwin et al. 2014; Caruso 2000) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; [@Linn02, p. 9] &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; (Linn and Haug 2002, 9) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; [-@Goldhaber08] &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; (2008) &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;br&gt;

Note this is not APA. However, references are included automatically at the end of the document. Include `# References` as the last line of your document to give it a title.

---
## A few real examples
![](../img/intext_ref1.png)
![](../img/intext_ref2.png)
![](../img/intext_ref3.png)

---
## References
![](../img/references.png)

---
## Let's try!
[demo first]
* Open R Studio
    + Open a new Rmd document
* In your YAML, add a new line for `bibliography:`. Follow this with the name of your bibliography file, which should be in the same directory, and should be the bare name (not in quotes).
* Open a text file, save it with a `.bib` extension.
* Go to google Scholar and find a reference to cite. Copy and paste the citation into your .bib file using google's cite option.
* Include a reference to the citation in your Rmd file and render it. Include a page break so your citations are on a separate page.

---
## Other potential option
* Add a GUI-like interface with *citr* 
    + written by the same author who wrote the APA R Markdown documentation

See [here](https://github.com/crsh/citr)

---
# Tables
Not my favorite thing - figures generally better.

Some options
* `papaja::apa_table` for basic APA tables
* `knitr::kable` for basic tables of any sort
  + Use [{kableExtra}](https://github.com/haozhu233/kableExtra) for extensions 
  (see [here](https://haozhu233.github.io/kableExtra/awesome_table_in_html.html)
  for extensions in html and
  [here](https://haozhu233.github.io/kableExtra/awesome_table_in_pdf.pdf) for
  extensions in pdf)
* [{huxtable}](https://github.com/hughjonesd/huxtable)

---
# Chunk options
For tables, you may have to specify `results = "asis"` or you can end up with
something like 


```
## &lt;caption&gt;(\#tab:unnamed-chunk-1)&lt;/caption&gt;
## 
## &lt;caption&gt;**&lt;/caption&gt;
## 
## 
## 
##                       mpg     cyl    disp     hp       drat   wt     qsec    vs     am     gear   carb 
## --------------------  ------  -----  -------  -------  -----  -----  ------  -----  -----  -----  -----
## Mazda RX4             21.00   6.00   160.00   110.00   3.90   2.62   16.46   0.00   1.00   4.00   4.00 
## Mazda RX4 Wag         21.00   6.00   160.00   110.00   3.90   2.88   17.02   0.00   1.00   4.00   4.00 
## Datsun 710            22.80   4.00   108.00   93.00    3.85   2.32   18.61   1.00   1.00   4.00   1.00 
## Hornet 4 Drive        21.40   6.00   258.00   110.00   3.08   3.21   19.44   1.00   0.00   3.00   1.00 
## Hornet Sportabout     18.70   8.00   360.00   175.00   3.15   3.44   17.02   0.00   0.00   3.00   2.00 
## Valiant               18.10   6.00   225.00   105.00   2.76   3.46   20.22   1.00   0.00   3.00   1.00 
## Duster 360            14.30   8.00   360.00   245.00   3.21   3.57   15.84   0.00   0.00   3.00   4.00 
## Merc 240D             24.40   4.00   146.70   62.00    3.69   3.19   20.00   1.00   0.00   4.00   2.00 
## Merc 230              22.80   4.00   140.80   95.00    3.92   3.15   22.90   1.00   0.00   4.00   2.00 
## Merc 280              19.20   6.00   167.60   123.00   3.92   3.44   18.30   1.00   0.00   4.00   4.00 
## Merc 280C             17.80   6.00   167.60   123.00   3.92   3.44   18.90   1.00   0.00   4.00   4.00 
## Merc 450SE            16.40   8.00   275.80   180.00   3.07   4.07   17.40   0.00   0.00   3.00   3.00 
## Merc 450SL            17.30   8.00   275.80   180.00   3.07   3.73   17.60   0.00   0.00   3.00   3.00 
## Merc 450SLC           15.20   8.00   275.80   180.00   3.07   3.78   18.00   0.00   0.00   3.00   3.00 
## Cadillac Fleetwood    10.40   8.00   472.00   205.00   2.93   5.25   17.98   0.00   0.00   3.00   4.00 
## Lincoln Continental   10.40   8.00   460.00   215.00   3.00   5.42   17.82   0.00   0.00   3.00   4.00 
## Chrysler Imperial     14.70   8.00   440.00   230.00   3.23   5.34   17.42   0.00   0.00   3.00   4.00 
## Fiat 128              32.40   4.00   78.70    66.00    4.08   2.20   19.47   1.00   1.00   4.00   1.00 
## Honda Civic           30.40   4.00   75.70    52.00    4.93   1.62   18.52   1.00   1.00   4.00   2.00 
## Toyota Corolla        33.90   4.00   71.10    65.00    4.22   1.84   19.90   1.00   1.00   4.00   1.00 
## Toyota Corona         21.50   4.00   120.10   97.00    3.70   2.46   20.01   1.00   0.00   3.00   1.00 
## Dodge Challenger      15.50   8.00   318.00   150.00   2.76   3.52   16.87   0.00   0.00   3.00   2.00 
## AMC Javelin           15.20   8.00   304.00   150.00   3.15   3.44   17.30   0.00   0.00   3.00   2.00 
## Camaro Z28            13.30   8.00   350.00   245.00   3.73   3.84   15.41   0.00   0.00   3.00   4.00 
## Pontiac Firebird      19.20   8.00   400.00   175.00   3.08   3.85   17.05   0.00   0.00   3.00   2.00 
## Fiat X1-9             27.30   4.00   79.00    66.00    4.08   1.94   18.90   1.00   1.00   4.00   1.00 
## Porsche 914-2         26.00   4.00   120.30   91.00    4.43   2.14   16.70   0.00   1.00   5.00   2.00 
## Lotus Europa          30.40   4.00   95.10    113.00   3.77   1.51   16.90   1.00   1.00   5.00   2.00 
## Ford Pantera L        15.80   8.00   351.00   264.00   4.22   3.17   14.50   0.00   1.00   5.00   4.00 
## Ferrari Dino          19.70   6.00   145.00   175.00   3.62   2.77   15.50   0.00   1.00   5.00   6.00 
## Maserati Bora         15.00   8.00   301.00   335.00   3.54   3.57   14.60   0.00   1.00   5.00   8.00 
## Volvo 142E            21.40   4.00   121.00   109.00   4.11   2.78   18.60   1.00   1.00   4.00   2.00
```

---
# Careful on formats
* Make sure you specify the format you want
  + PDF or HTML?


--
From `?kable`
* `format = "latex"` for PDF
* `format = "html"` for HTML output

---
# Things to cover still
* equations
* extending options a bit

---
class: inverse center middle
# Lab
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="https://platform.twitter.com/widgets.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "atelier-dune-light",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
